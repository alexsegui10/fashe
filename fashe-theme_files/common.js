function getURLVar(key){var value2=[],query=String(document.location).split("?");if(query[1]){var part=query[1].split("&");for(i=0;i<part.length;i++){var data=part[i].split("=");data[0]&&data[1]&&(value2[data[0]]=data[1])}return value2[key]?value2[key]:""}}function isEmpty(el){return!$.trim(el.html())}$(document).ajaxStop(function(){function isEmpty2(el){return!$.trim(el.html())}isEmpty2($("#product"))||$("#product .option-container").addClass("has-option")});function divWidthMenu(){var width_br=$(".container-fix .block-right").outerWidth(!0),width_count=$(".container-fix > .container").width(),width_bl=$("#logo img").outerWidth(!0);($(".hd1").length||$(".hd2").length)&&$(".home1 .container-fix .main-menu").outerWidth(width_count-width_bl-width_br-30)}function customResponsive(){var window_w=parseInt($(window).width());$(".group1 #logo img").each(function(){this.complete?divWidthMenu.call(this):$(this).one("load",divWidthMenu)});var offsetMargin=0-$(".wrapper").outerWidth(!0)*2.6/100;$(".hd2").length&&($(".banner8").css("margin-left",offsetMargin),$(".banner8").css("margin-right",offsetMargin))}$(window).resize(function(){customResponsive()}),$(document).ready(function(){var className=$("header").attr("class");$(".header3").length&&$(".contentforlayout").addClass("container1-page"),$(".popup-youtube, .popup-vimeo, .popup-gmaps").magnificPopup({type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1}),$(".swatch :radio").change(function(){var optionIndex=$(this).closest(".swatch").attr("data-option-index"),optionValue=$(this).val();$(this).closest("form").find(".single-option-selector").eq(optionIndex).val(optionValue).trigger("change")}),$("#button-cart").on("click",function(e){e.preventDefault(),$.ajax({url:"/cart/add.js",type:"post",data:$("#form_buy input[type='text'], #form_buy select"),dataType:"json",beforeSend:function(){$("#button-cart").button("loading")},complete:function(){$("#button-cart").button("reset")},success:function(json){if($(".alert, .text-danger").remove(),$(".form-group").removeClass("has-error"),json.error){if(json.error.option)for(i in json.error.option){var element=$("#input-option"+i.replace("_","-"));element.parent().hasClass("input-group")?element.parent().after('<div class="text-danger">'+json.error.option[i]+"</div>"):element.after('<div class="text-danger">'+json.error.option[i]+"</div>")}json.error.recurring&&$("select[name='recurring_id']").after('<div class="text-danger">'+json.error.recurring+"</div>"),$(".text-danger").parent().addClass("has-error")}swal("Added to cart Successfully !","success"),$.getJSON("/cart.js",function(cart2){$("#cart-total").html(cart2.item_count),Currency.convertAll(shopCurrency,Currency.cookie.read())}),$("html, body").animate({scrollTop:0},"slow"),$("#cart").load("/ #cart #subcart")},error:function(xhr,ajaxOptions,thrownError){alert(xhr.responseText)}})}),$("header").after('<div class="breadcrumbs"><div class="container"></div></div>');var breadcrumb=$("ul.breadcrumb"),breadcrumbs_container=$(".breadcrumbs .container");breadcrumb.appendTo(breadcrumbs_container),$(".breadcrumb").before($(".category-name")),$(".breadcrumb").before($(".block-2 .heading-title"));var sticky_menu=$("#sticky-menu").attr("data-sticky");if(sticky_menu==1){var headerSpaceH=$("header").outerHeight(!0);$("header").after('<div class="headerSpace unvisible" style="height:'+headerSpaceH+'px;"></div>')}var currentP=0,stickyOffset=0;stickyOffset=$("header").offset().top,stickyOffset+=$("header").outerHeight(),stickyOffset+=30,$(window).scroll(function(){var headerH=$("header").height(),scrollP=$(window).scrollTop();$(window).width()>1024&&scrollP!=currentP&&(sticky_menu==1&&(scrollP>=stickyOffset?($(".group1 .container-fix").addClass("fix-header"),$(".group2 .main-menu").addClass("fix-header"),$(".headerSpace").removeClass("unvisible")):($(".group1 .container-fix").removeClass("fix-header"),$(".group2 .main-menu").removeClass("fix-header"),$(".headerSpace").addClass("unvisible"))),currentP=$(window).scrollTop())}),$(".container-fix").hover(function(){$(this).addClass("fix-header-act")},function(){$(this).removeClass("fix-header-act")}),customResponsive(),isEmpty($("#product"))||$("#product .option-container").addClass("has-option"),isEmpty($("#product2"))||$("#product2 .option-container").addClass("has-option"),$(".layer-category").prepend($(".custom-category .toolbar")),$(".text-danger").each(function(){var element=$(this).parent().parent();element.hasClass("form-group")&&element.addClass("has-error")}),$("#search input[name='q']").parent().find("button").on("click",function(){var url="/search",value2=$("#search input[name='q']").val();if(value2=="Search all products..."||value2=="")return jQuery("#search input[name='q']").focus(),!1;url+="?type=product&q="+encodeURIComponent(value2),location=url}),$("#search input[name='q']").on("keydown",function(e){e.keyCode==13&&$("#search input[name='q']").parent().find("button").trigger("click")}),$("#menu .dropdown-menu").each(function(){var menu=$("#menu").offset(),dropdown=$(this).parent().offset(),i2=dropdown.left+$(this).outerWidth()-(menu.left+$("#menu").outerWidth());i2>0&&$(this).css("margin-left","-"+(i2+10)+"px")}),$("#list-view").click(function(){$(".custom-products").removeClass("custom-products-row"),$(this).addClass("selected"),$("#grid-view").removeClass("selected"),$("#content .product-grid > .clearfix").remove(),$("#content .product-grid").attr("class","product-layout product-list col-xs-12"),$("#content .product-list .caption").addClass("col-xs-8"),$("#content .product-list .image").addClass("col-xs-4"),localStorage.setItem("display","list")}),$("#grid-view").click(function(){$(".custom-products").addClass("custom-products-row"),$(this).addClass("selected"),$("#list-view").removeClass("selected"),cols=$("#column-right, #column-left").length,cols==2?$("#content .product-layout").attr("class","product-layout product-grid col-md-6 col-sm-6 col-xs-6 two-items"):cols==1?$("#content .product-layout").attr("class","product-layout product-grid col-md-4 col-sm-6 col-xs-6 three-items"):$("#content .product-layout").attr("class","product-layout product-grid col-md-3 col-sm-6 col-xs-6 four-items"),$("#content .product-grid .caption").removeClass("col-xs-8"),$("#content .product-grid .image").removeClass("col-xs-4"),localStorage.setItem("display","grid")}),localStorage.getItem("display")=="list"?$("#list-view").trigger("click"):$("#grid-view").trigger("click"),$(document).on("keydown","#collapse-checkout-option input[name='email'], #collapse-checkout-option input[name='password']",function(e){e.keyCode==13&&$("#collapse-checkout-option #button-login").trigger("click")}),$("[data-toggle='tooltip']").tooltip({container:"body"}),$(document).ajaxStop(function(){$("[data-toggle='tooltip']").tooltip({container:"body"})})});var cart={add:function(product_id,product_title,quantity){$.ajax({url:"/cart/add.js",type:"post",data:"id="+product_id+"&quantity="+(typeof quantity!="undefined"?quantity:1),dataType:"json",beforeSend:function(){var btn=$(this);$(".btn-cart > .button").button("loading")},complete:function(){$(".btn-cart > .button").button("reset")},success:function(json){$(".alert, .text-danger").remove(),json.redirect&&(location=json.redirect),swal(product_title,"is added to cart !","success"),$.getJSON("/cart.js",function(cart2){setTimeout(function(){$("#cart-total").html(cart2.item_count)},100)}),$("#cart").load("/ #cart #subcart")},error:function(xhr,ajaxOptions,thrownError){alert(xhr.responseText)}})},remove:function(key){$.ajax({url:"/cart/update.js",type:"post",data:"updates["+key+"]=0",dataType:"json",beforeSend:function(){$("#cart").removeClass("show-header-dropdown")},success:function(json){$("#cart > button").button("reset"),setTimeout(function(){$("#cart-total").html(json.item_count)},100),getURLVar("route")=="/cart"||getURLVar("route")=="/checkout"?location="/cart":$("#cart").load("/ #cart #subcart")},error:function(xhr,ajaxOptions,thrownError){alert(xhr.responseText)}})}};$(document).delegate(".agree","click",function(e){e.preventDefault(),$("#modal-agree").remove();var element=this;$.ajax({url:$(element).attr("href"),type:"get",dataType:"html",success:function(data){html='<div id="modal-agree" class="modal">',html+='  <div class="modal-dialog">',html+='    <div class="modal-content">',html+='      <div class="modal-header">',html+='        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>',html+='        <h4 class="modal-title">'+$(element).text()+"</h4>",html+="      </div>",html+='      <div class="modal-body">'+data+"</div>",html+="    </div>",html+="  </div>",html+="</div>",$("body").append(html),$("#modal-agree").modal("show")}})}),function($2){$2.fn.autocomplete=function(option){return this.each(function(){this.timer=null,this.items=new Array,$2.extend(this,option),$2(this).attr("autocomplete","off"),$2(this).on("focus",function(){this.request()}),$2(this).on("blur",function(){setTimeout(function(object){object.hide()},200,this)}),$2(this).on("keydown",function(event){switch(event.keyCode){case 27:this.hide();break;default:this.request();break}}),this.click=function(event){event.preventDefault(),value=$2(event.target).parent().attr("data-value"),value&&this.items[value]&&this.select(this.items[value])},this.show=function(){var pos=$2(this).position();$2(this).siblings("ul.dropdown-menu").css({top:pos.top+$2(this).outerHeight(),left:pos.left}),$2(this).siblings("ul.dropdown-menu").show()},this.hide=function(){$2(this).siblings("ul.dropdown-menu").hide()},this.request=function(){clearTimeout(this.timer),this.timer=setTimeout(function(object){object.source($2(object).val(),$2.proxy(object.response,object))},200,this)},this.response=function(json){if(html="",json.length){for(i=0;i<json.length;i++)this.items[json[i].value]=json[i];for(i=0;i<json.length;i++)json[i].category||(html+='<li data-value="'+json[i].value+'"><a href="#">'+json[i].label+"</a></li>");var category=new Array;for(i=0;i<json.length;i++)json[i].category&&(category[json[i].category]||(category[json[i].category]=new Array,category[json[i].category].name=json[i].category,category[json[i].category].item=new Array),category[json[i].category].item.push(json[i]));for(i in category)for(html+='<li class="dropdown-header">'+category[i].name+"</li>",j=0;j<category[i].item.length;j++)html+='<li data-value="'+category[i].item[j].value+'"><a href="#">&nbsp;&nbsp;&nbsp;'+category[i].item[j].label+"</a></li>"}html?this.show():this.hide(),$2(this).siblings("ul.dropdown-menu").html(html)},$2(this).after('<ul class="dropdown-menu"></ul>'),$2(this).siblings("ul.dropdown-menu").delegate("a","click",$2.proxy(this.click,this))})}}(window.jQuery);
//# sourceMappingURL=/cdn/shop/t/2/assets/common.js.map?v=91739127819069968041516035356
